---
// Reusable post card component
// Props:
// - entry: CollectionEntry<'posts'> from astro:content
import type { CollectionEntry } from 'astro:content';

interface Props {
  entry: CollectionEntry<'posts'>;
}

const { entry } = Astro.props;
const { title, date, tags = [], description } = entry.data;
const formattedDate = new Date(date);
const href = `/blog/${entry.slug}/`;
---
<article class="border rounded-lg p-4 hover:shadow-sm transition-shadow">
  <h2 class="text-xl font-semibold leading-tight">
    <a href={href} class="hover:underline">{title}</a>
  </h2>
  <time datetime={formattedDate.toISOString()} class="block text-sm text-gray-500">
    {formattedDate.toLocaleDateString(undefined, { year: 'numeric', month: 'short', day: '2-digit' })}
  </time>
  {tags?.length ? (
    <ul class="flex flex-wrap gap-2 my-2">
      {tags.map((t) => (
        <li class="text-xs bg-gray-100 dark:bg-gray-800 px-2 py-1 rounded">#{t}</li>
      ))}
    </ul>
  ) : null}
  {description ? <p class="mt-2 text-sm text-gray-700 dark:text-gray-300">{description}</p> : null}
  <p class="mt-3">
    <a href={href} class="text-primary-600 hover:underline">Czytaj dalej â†’</a>
  </p>
</article>
